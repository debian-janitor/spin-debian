Description: Makefile fixes
 The upstream Makefile is extremely conservative, presumably to support
 certain esoteric operating systems and architectures. This patch makes
 some minor edits to permit the package to play nice with debhelper et al.
Author: Tom Lee <debian@tomlee.co>
Forwarded: no
Last-Update: 2016-03-30
---
This patch header follows DEP-3: http://dep.debian.net/deps/dep3/
--- a/Src6.4.9/makefile
+++ b/Src6.4.9/makefile
@@ -14,7 +14,7 @@
 	# debugging:  make CFLAGS=-pg -g -DNXT
 
 # for a more picky compilation use gcc-4 and add:
-PICKY=-std=c99 -Wstrict-prototypes -pedantic -fno-strength-reduce \
+CFLAGS+=-std=c99 -Wstrict-prototypes -pedantic -fno-strength-reduce \
 	-fno-builtin -W -Wshadow -Wpointer-arith \
 	-Wcast-qual -Winline -Wall
 
@@ -23,7 +23,7 @@
 			# for Visual C++: spin -PCL  -E/E
 
 YACC?=yacc		# on Solaris: /usr/ccs/bin/yacc
-YFLAGS=-v -d 		# creates y.output and y.tab.h
+YFLAGS?=-v -d 		# creates y.output and y.tab.h
 DESTDIR?=/usr/local/bin
 INSTALL?=cp		# on linux: install -c
 
@@ -36,11 +36,10 @@
 	tl_mem.o tl_rewrt.o tl_cache.o
 
 spin:	$(SPIN_OS) $(TL_OS) spin.o
-	$(CC) $(CFLAGS) -o spin spin.o $(SPIN_OS) $(TL_OS)
+	$(CC) $(CFLAGS) -o spin spin.o $(LDFLAGS) $(SPIN_OS) $(TL_OS)
 
 install: spin
 	$(INSTALL) spin $(DESTDIR)
-	$(INSTALL) ../Man/spin.1 /usr/local/man/man1
 
 spin.o:	spin.y
 	$(YACC) $(YFLAGS) spin.y
